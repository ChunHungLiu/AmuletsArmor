<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Amulets &amp; Armor: MEMORY</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Amulets &amp; Armor
   &#160;<span id="projectnumber">v1.02</span>
   </div>
   <div id="projectbrief">Open Source Game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MEMORY</div>  </div>
</div><!--header-->
<div class="contents">

<p>Memory Allocation/Freeing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t__mem_block_header__tag.html">T_memBlockHeader_tag</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gac036e794a53a442b52e963f49d1cc176"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gac036e794a53a442b52e963f49d1cc176">MEM_BLOCK_TAG_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:gac036e794a53a442b52e963f49d1cc176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga481be9ad1a30b64723f887a90badb5a9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_t__mem_block_header__tag.html">T_memBlockHeader_tag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga481be9ad1a30b64723f887a90badb5a9">T_memBlockHeader</a></td></tr>
<tr class="separator:ga481be9ad1a30b64723f887a90badb5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab0b5082d01ae0b8d4e65693c74be7dfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gab0b5082d01ae0b8d4e65693c74be7dfb">FreeMemory</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>)</td></tr>
<tr class="separator:gab0b5082d01ae0b8d4e65693c74be7dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e31db75cdf1325342ccd07847e04b32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga9e31db75cdf1325342ccd07847e04b32">MemAlloc</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a> size)</td></tr>
<tr class="separator:ga9e31db75cdf1325342ccd07847e04b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e4269001fbd24ce8cd5409e9e427bde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga8e4269001fbd24ce8cd5409e9e427bde">MemCheck</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a5eaf95e0d563306d13112ea4d3b0a656">T_word16</a> num)</td></tr>
<tr class="separator:ga8e4269001fbd24ce8cd5409e9e427bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa9930c4eb993667b014d5d4ede9dff1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gaaa9930c4eb993667b014d5d4ede9dff1">MemCheckData</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *p_data)</td></tr>
<tr class="separator:gaaa9930c4eb993667b014d5d4ede9dff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe0d91e1af9ecf135f062863561a1454"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gabe0d91e1af9ecf135f062863561a1454">MemDumpDiscarded</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>)</td></tr>
<tr class="separator:gabe0d91e1af9ecf135f062863561a1454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6266a0eb75e20c49f174a315f6e9bf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gaf6266a0eb75e20c49f174a315f6e9bf3">MemFlushDiscardable</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>)</td></tr>
<tr class="separator:gaf6266a0eb75e20c49f174a315f6e9bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58885a5197fd81b76aaf2a598b035394"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga58885a5197fd81b76aaf2a598b035394">MemFree</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *p_data)</td></tr>
<tr class="separator:ga58885a5197fd81b76aaf2a598b035394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga753a8d8ac9efe1eb7f762bf7ae36031a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga753a8d8ac9efe1eb7f762bf7ae36031a">MemGetAllocated</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>)</td></tr>
<tr class="separator:ga753a8d8ac9efe1eb7f762bf7ae36031a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1aa889083d24d3e07bc31f420432e37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gab1aa889083d24d3e07bc31f420432e37">MemGetMaxAllocated</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>)</td></tr>
<tr class="separator:gab1aa889083d24d3e07bc31f420432e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae4ead9238d131c89c3d46d012845bc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gaae4ead9238d131c89c3d46d012845bc2">MemMarkDiscardable</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *p_data, <a class="el" href="_m_e_m_o_r_y_8_h.html#a4971cef259826fe057227a343aa29bbb">T_memDiscardCallbackFunc</a> p_callback)</td></tr>
<tr class="separator:gaae4ead9238d131c89c3d46d012845bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c887de4fa3d892a29ef92d948a83e8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga9c887de4fa3d892a29ef92d948a83e8e">MemReclaimDiscardable</a> (<a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *p_data)</td></tr>
<tr class="separator:ga9c887de4fa3d892a29ef92d948a83e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Memory Allocation/Freeing. </p>
<p>The Memory allocation system is here. There is a fair amount of specialized code going on here as we allocate and free memory. When debug mode is enabled, memory can be tracked by who allocated it and if there are any memory leaks.</p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://www.amuletsandarmor.com/AALicense.txt">http://www.amuletsandarmor.com/AALicense.txt</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gac036e794a53a442b52e963f49d1cc176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEM_BLOCK_TAG_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga481be9ad1a30b64723f887a90badb5a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_t__mem_block_header__tag.html">T_memBlockHeader_tag</a> <a class="el" href="group___m_e_m_o_r_y.html#ga481be9ad1a30b64723f887a90badb5a9">T_memBlockHeader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab0b5082d01ae0b8d4e65693c74be7dfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a> FreeMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9e31db75cdf1325342ccd07847e04b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>* MemAlloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a>&#160;</td>
          <td class="paramname"><em>size</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Currently, this routine is provided more for debugging than an actual utility. However, this should be the one routine that everyone calls to allocate memory (no matter what system). Since we use this for debugging, we will assign a number to each piece of memory that is allocated and will attach a "tag" at the beginning to make the system have a way to check if we are later freeing a block, or just random memory. Space is also provided to allow the block to be declared as discard- able. A discardable block needs to be able to be placed on a double link list and have a call back function (for when the block is actually discarded). See MemMarkDiscardable for more details.</p>
<p>NOTE: I'm sure what the size limitations for this will be, so we had best stick to 64K or smaller allocations. Note that this routine is also made for blocks of typically larger than 256 bytes. If you got alot of small parts, you might want to try doing it a different way.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>&ndash; Amount of memory to allocate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer or NULL to memory block. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e4269001fbd24ce8cd5409e9e427bde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5eaf95e0d563306d13112ea4d3b0a656">T_word16</a>&#160;</td>
          <td class="paramname"><em>num</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaaa9930c4eb993667b014d5d4ede9dff1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemCheckData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *&#160;</td>
          <td class="paramname"><em>p_data</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gabe0d91e1af9ecf135f062863561a1454"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemDumpDiscarded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MemDumpDiscarded is for debugging purposes only (and only will be compiled in debug mode). It will output a list of blocks to the file "debugmem.txt".</p>
<p>NOTE: None really. </p>

</div>
</div>
<a class="anchor" id="gaf6266a0eb75e20c49f174a315f6e9bf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemFlushDiscardable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MemFlushDiscardable goes through the list of discardable memory and frees it out. This is useful for checking memory leaks or just wanting the system to reset to the beginning.</p>
<p>NOTE: None really. </p>

</div>
</div>
<a class="anchor" id="ga58885a5197fd81b76aaf2a598b035394"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *&#160;</td>
          <td class="paramname"><em>p_data</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MemFree frees a block of memory that was previously allocated. It also checks the integrity of the pointer given to it. If the pointer is NULL, it crashes. If the pointer does not point to a block that was allocated, it crashes.</p>
<p>NOTE: None that I can think of (except this will definitely slow down the system a little).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_data</td><td>&ndash; Pointer to block to free Normally we can assume p_data points to data and is not NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga753a8d8ac9efe1eb7f762bf7ae36031a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a> MemGetAllocated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MemGetAllocated returns the total amount of memory allocated.</p>
<p>NOTE: None really.</p>
<dl class="section return"><dt>Returns</dt><dd>Number bytes allocated </dd></dl>

</div>
</div>
<a class="anchor" id="gab1aa889083d24d3e07bc31f420432e37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a5dca2d9ad7e82130f81a43a8376bdf13">T_word32</a> MemGetMaxAllocated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a>&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MemGetMaxAllocated returns the maximum amount of memory that has been allocated at any one time.</p>
<p>NOTE: None really.</p>
<dl class="section return"><dt>Returns</dt><dd>Max bytes allocated since program started. </dd></dl>

</div>
</div>
<a class="anchor" id="gaae4ead9238d131c89c3d46d012845bc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemMarkDiscardable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_e_m_o_r_y_8_h.html#a4971cef259826fe057227a343aa29bbb">T_memDiscardCallbackFunc</a>&#160;</td>
          <td class="paramname"><em>p_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>As an alternative to freeing a block of memory, you may choose to make the memory discardable. Doing so allows you to keep the block in memory as long as possible without automatically get rid of it. This allows for other routines to keep blocks cached in memory instead of accessing the disk drive over and over again. To facilitate discardable blocks, a callback routine is also passed to tell the original caller that the block is no longer in memory. Typically the callback routine will remove the item from a list.</p>
<p>NOTE: All routines that use memory have to use MemAlloc/MemFree or else several discarded blocks may be using up all the standard memory. Only MemAlloc actually calls the routines to free up discarded memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_data</td><td>&ndash; Pointer to the data block </td></tr>
    <tr><td class="paramname">p_callback</td><td>&ndash; Pointer to the function that should be called when this block is freed from memory. You can use NULL if you don't care, but if you do, you might as well use MemFree since this is the link that allows you to know what the block status really is. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9c887de4fa3d892a29ef92d948a83e8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> MemReclaimDiscardable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_g_e_n_b_o_r_8_h.html#a4a22d50a7b5042f5c0b7c30b3937289b">T_void</a> *&#160;</td>
          <td class="paramname"><em>p_data</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Should you need to use a block that you know you had allocated in in the past and later marked discardable, you can reclaim the block. By calling this routine, you remove the block from the discard list and make it act like a normal block.</p>
<p>NOTE: The caller must keep up with what blocks are discarded and what their original pointers are. The callback function provided in MemMarkDisc() provides a method to note when the block is finally removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_data</td><td>&ndash; Pointer to originally discarded block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 4 2013 15:35:48 for Amulets & Armor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
